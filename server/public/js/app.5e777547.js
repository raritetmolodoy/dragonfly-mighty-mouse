(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("96cf");var s=a("1da1"),r=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"nunito"},[a("v-fade-transition",{attrs:{"hide-on-leave":""}},[a("router-view")],1),a("app-notificator")],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{right:"",top:"","multi-line":!0,timeout:5e3,color:t.alert.color,value:!0},on:{input:t.closeAlert},model:{value:t.alert.visible,callback:function(e){t.$set(t.alert,"visible",e)},expression:"alert.visible"}},[a("span",{domProps:{innerHTML:t._s(t.alert.text)}}),a("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(e){return t.closeAlert(e)}}},[t._v(" Закрыть ")])],1)},l=[],c={methods:{closeAlert:function(){this.$store.dispatch("clearAlert")}},computed:{alert:function(){return this.$store.state.shared.alert}}},u=c,d=a("2877"),p=a("6544"),v=a.n(p),f=a("8336"),m=a("2db4"),k=Object(d["a"])(u,o,l,!1,null,null,null),g=k.exports;v()(k,{VBtn:f["a"],VSnackbar:m["a"]});var h={name:"App",components:{AppNotificator:g}},b=h,x=(a("cf25"),a("7496")),w=a("0789"),L=Object(d["a"])(b,i,n,!1,null,null,null),T=L.exports;v()(L,{VApp:x["a"],VFadeTransition:w["c"]});var y=a("2f62"),_=(a("7db0"),a("c740"),a("a434"),a("b0c0"),a("5530")),V=a("b85c"),C=(a("d3b7"),function(t,e,a){return I.apply(this,arguments)});function I(){return I=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,s){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/"+e,{method:a,headers:{"Content-Type":"application/json"},body:s});case 2:return r=t.sent,t.next=5,r.json();case 5:if(i=t.sent,!(r.status>=400)){t.next=10;break}throw new Error(i.message);case 10:return t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}var O={state:{taskLists:null,activeList:null,activeTask:null},getters:{allTasks:function(t){var e=[];if(t.taskLists){var a,s=Object(V["a"])(t.taskLists);try{for(s.s();!(a=s.n()).done;){var r,i=a.value,n=Object(V["a"])(i.items);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.list=i,e.push(o)}}catch(l){n.e(l)}finally{n.f()}}}catch(l){s.e(l)}finally{s.f()}}return{name:"All tasks",items:e}}},mutations:{setTaskLists:function(t,e){t.taskLists=e},setTaskList:function(t,e){t.activeList=e,t.activeTask=null},addTask:function(t,e){var a=e.task,s=e.taskListId,r=t.taskLists.find((function(t){return t._id==s}));r.items.push(a)},deleteTask:function(t,e){t.activeTask&&e._id==t.activeTask._id&&(t.activeTask=null);var a=t.taskLists.find((function(t){return t._id==e.list._id}));if(a){var s=a.items.findIndex((function(t){return t._id==e._id}));s>=0&&a.items.splice(s,1)}},updateTaskText:function(t,e){var a=e.task,s=e.value;a.text=s},updateTaskPriority:function(t,e){var a=e.task,s=e.value;a.priority=s},toggleTaskStatus:function(t,e){e.completed=!e.completed},createTaskList:function(t,e){t.taskLists.push(e)},updateTaskList:function(t,e){var a=e.taskList,s=e.set;a.name=s.name},deleteTaskList:function(t,e){var a=t.taskLists.findIndex((function(t){return t._id==e}));a>=0&&t.taskLists.splice(a,1)},setActiveTask:function(t,e){t.activeTask=e}},actions:{addTaskQuickly:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.state,r=t.rootState,i=t.commit,a.prev=1,n={taskText:e,taskPriority:0,token:r.user.token,taskListId:s.activeList?s.activeList._id:r.user.config.defaultTaskListId},a.next=5,C("task","post",JSON.stringify(n));case 5:o=a.sent,o.taskListId=n.taskListId,i("addTask",{task:o,taskListId:n.taskListId}),a.next=14;break;case 10:throw a.prev=10,a.t0=a["catch"](1),i("setAlert",a.t0.message),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},addTask:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.rootState,a.prev=1,a.next=4,C("task","post",JSON.stringify({taskText:e.text,taskPriority:e.priority,token:r.user.token,taskListId:e.taskListId}));case 4:i=a.sent,s("addTask",{task:i,taskListId:e.taskListId}),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),s("setAlert",a.t0.message),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},deleteTask:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.rootState,a.prev=1,a.next=4,C("task","delete",JSON.stringify({taskId:e._id,taskListId:e.list._id,token:r.user.token}));case 4:s("deleteTask",e),a.next=11;break;case 7:throw a.prev=7,a.t0=a["catch"](1),s("setAlert",a.t0.message),a.t0;case 11:s("deleteTask",e);case 12:case"end":return a.stop()}}),a,null,[[1,7]])})))()},updateTask:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.rootState,i=e.taskListId,n=e.updateObj,a.prev=2,a.next=5,C("task","put",JSON.stringify({task:n,taskListId:i,token:r.user.token}));case 5:a.next=11;break;case 7:throw a.prev=7,a.t0=a["catch"](2),s("setAlert",a.t0.message),a.t0;case 11:case"end":return a.stop()}}),a,null,[[2,7]])})))()},updateTaskText:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.dispatch,i=e.task,n=e.value,s("updateTaskText",{task:i,value:n}),o=Object(_["a"])({},i),delete o.list,o.text=n,a.next=8,r("updateTask",{taskListId:i.list._id,updateObj:o});case 8:case"end":return a.stop()}}),a)})))()},updateTaskPriority:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.dispatch,i=e.task,n=e.value,s("updateTaskPriority",{task:i,value:n}),o=Object(_["a"])({},i),delete o.list,o.priority=n,a.next=8,r("updateTask",{taskListId:i.list._id,updateObj:o});case 8:case"end":return a.stop()}}),a)})))()},toggleTaskStatus:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.dispatch,s("toggleTaskStatus",e),i=Object(_["a"])({},e),delete i.list,i.completed=e.completed,a.next=7,r("updateTask",{taskListId:e.list._id,updateObj:i});case 7:case"end":return a.stop()}}),a)})))()},createTaskList:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.rootState,a.prev=1,a.next=4,C("task-list","post",JSON.stringify({token:r.user.token,taskListName:e}));case 4:i=a.sent,s("createTaskList",i),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),s("setAlert",a.t0.message),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},updateTaskList:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.rootState,i=e.taskList,n=e.set,a.prev=2,o=Object(_["a"])({},i),delete o.items,a.next=7,C("task-list","put",JSON.stringify({token:r.user.token,taskList:o}));case 7:s("updateTaskList",{taskList:i,set:n}),a.next=14;break;case 10:throw a.prev=10,a.t0=a["catch"](2),s("setAlert",a.t0.message),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},deleteTaskList:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.state,r=t.commit,i=t.rootState,a.prev=1,a.next=4,C("task-list","delete",JSON.stringify({token:i.user.token,taskListId:e}));case 4:r("deleteTaskList",e),s.activeList&&s.activeList._id==e&&r("setTaskList",null),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("setAlert",a.t0.message),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},setDefaultTaskList:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=t.rootState,a.prev=1,a.next=4,C("default-task-list","put",JSON.stringify({token:r.user.token,taskListId:e}));case 4:s("setDefaultTaskList",e),a.next=11;break;case 7:throw a.prev=7,a.t0=a["catch"](1),s("setAlert",a.t0.message),a.t0;case 11:case"end":return a.stop()}}),a,null,[[1,7]])})))()}}},S={state:{},getters:{},mutations:{},actions:{registerUser:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=e.email,i=e.password,n=e.name,a.prev=2,a.next=5,C("register","post",JSON.stringify({email:r,password:i,name:n}));case 5:o=a.sent,s("setTaskLists",o.taskLists),s("setUser",o,{root:!0}),sessionStorage.setItem("user",JSON.stringify({email:r,password:i})),a.next=15;break;case 11:throw a.prev=11,a.t0=a["catch"](2),s("setAlert",a.t0.message),a.t0;case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},loginUser:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,r=e.email,i=e.password,a.prev=2,a.next=5,C("login","post",JSON.stringify({email:r,password:i}));case 5:n=a.sent,sessionStorage.setItem("user",JSON.stringify({email:r,password:i})),s("setTaskLists",n.taskLists),s("setUser",n,{root:!0}),a.next=15;break;case 11:throw a.prev=11,a.t0=a["catch"](2),s("setAlert",a.t0.message),a.t0;case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))()},logoutUser:function(t){var e=t.commit;e("setUser",null,{root:!0}),sessionStorage.setItem("user",""),document.location.reload(!0)}}},$={state:{loading:!1,alert:{text:"",color:"",visible:!1}},mutations:{setAlert:function(t,e){t.alert.color=void 0==e.color?"error":e.color,t.alert.text=void 0==e.text?"<strong>Error.</strong> ".concat(e):e.text,t.alert.visible=!0},clearAlert:function(t){t.alert.visible=!1}},actions:{setAlert:function(t,e){var a=t.commit;a("setAlert",e)},clearAlert:function(t){var e=t.commit;e("clearAlert")}}};r["a"].use(y["a"]);var D=new y["a"].Store({state:{user:null},getters:{defaultTaskListId:function(t){return t.user?t.user.config.defaultTaskListId:null}},mutations:{setDefaultTaskList:function(t,e){t.user.config.defaultTaskListId=e},setUser:function(t,e){t.user=e}},actions:{},modules:{tasks:O,auth:S,shared:$}}),R=a("f309");a("5363");r["a"].use(R["a"]);var j=new R["a"]({icons:{iconfont:"mdi"}}),A=a("8c4f"),P=function(t,e,a){a()},N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-fade-transition",[t.isUserLoggedIn?a("div",[a("app-nav-drawer",{model:{value:t.navDrawer,callback:function(e){t.navDrawer=e},expression:"navDrawer"}}),a("v-main",{staticClass:"background-3"},[a("v-container",{staticClass:"overflow-x-auto py-0",staticStyle:{height:"100vh"},attrs:{fluid:""}},[a("v-row",{staticClass:"pa-3"},[a("v-btn",{staticClass:"white",attrs:{icon:"",color:"black",large:""},on:{click:function(e){t.navDrawer=!t.navDrawer}}},[a("v-slide-x-transition",[a("v-icon",{attrs:{large:""}},[t._v(t._s(t.navDrawer?"mdi-backburger":"mdi-menu"))])],1)],1),a("v-spacer"),a("v-menu",{attrs:{transition:"slide-y-transition",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white",attrs:{color:"black",dark:"",icon:"",large:""}},"v-btn",r,!1),s),[a("v-icon",{attrs:{large:""}},[t._v("mdi-cog-outline")])],1)]}}],null,!1,3770451064)},[a("v-list",[a("v-list-item",{on:{click:t.logout}},[a("v-list-item-title",[a("v-icon",{attrs:{left:""}},[t._v("mdi-logout")]),t._v(" Sign out ")],1)],1)],1)],1)],1),a("app-desktop")],1)],1)],1):t._e()])},E=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticClass:"white",attrs:{app:"",permanent:"sm"!=t.brPointName&&"xs"!=t.brPointName,"mini-variant":!t.drawer,absolute:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.drawer?a("h1",{staticClass:"font-weight-bold text-center pa-3"},[a("strong",[a("span",[t._v("TODO")]),t._v("s")])]):t._e(),a("v-divider"),a("v-list-item",{attrs:{"two-line":""}},[t.drawer?a("v-list-item-avatar",[a("v-icon",{attrs:{large:""}},[t._v("mdi-check")])],1):a("v-list-item-icon",[a("v-icon",[t._v("mdi-check")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.user.name))]),a("v-list-item-subtitle",[t._v(" "+t._s(t.user.email)+" ")])],1)],1),a("v-divider"),a("v-btn",{staticClass:"mt-3",attrs:{color:"teal",icon:!t.drawer,tile:"",text:"",block:""},on:{click:function(e){t.addTaskDialog=!0}}},[t.drawer?a("h3",[t._v("Add task")]):a("v-icon",[t._v("mdi-plus")])],1),a("v-list-item",{staticClass:"mt-3",class:[t.allTasks==t.activeList?"grey lighten-4":"white"],attrs:{link:""},on:{click:function(e){return t.setTaskList(null)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-format-list-bulleted")])],1),a("v-list-item-content",[a("v-list-item-title",[a("h3",[t._v(" All tasks "),a("v-chip",{staticClass:"pa-2 ml-1",attrs:{small:""}},[a("strong",[t._v(t._s(t.allTasks.items.length))])])],1)])],1)],1),a("v-list",[a("v-list-group",{attrs:{value:"true",color:"#099"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-details")])],1),a("v-list-item-title",[a("h3",[t._v("Lists")])]),a("v-list-item-action",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",color:"grey"},on:{click:function(e){e.stopPropagation(),t.createDialog=!0}}},s),[a("v-icon",[t._v("mdi-plus")])],1)]}}])},[a("span",[t._v("Create task list")])])],1)]},proxy:!0}])},[a("v-slide-y-transition",{attrs:{group:""}},t._l(t.taskLists,(function(e,s){return a("v-list-item",{key:s,class:[e==t.activeList?"grey lighten-4":"white"],attrs:{link:""},on:{click:function(a){return t.setTaskList(e)}}},[a("v-list-item-title",[t._v(" "+t._s(e.name)+" "),a("v-chip",{staticClass:"pa-2 ml-1",attrs:{small:""}},[a("strong",[t._v(t._s(e.items.length))])]),a("v-tooltip",{key:t.defaultTaskListId==e._id,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var r=s.on;return[t.defaultTaskListId==e._id?a("v-icon",t._g({staticClass:"mx-3",attrs:{color:"yellow darken-2"}},r),[t._v("mdi-star-circle")]):t._e()]}}],null,!0)},[a("span",[t._v("Default task list")])])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",color:"grey"},on:{click:function(a){return a.stopPropagation(),t.editTaskList(e)}}},[a("v-icon",[t._v("mdi-cog")])],1)],1)],1)})),1)],1)],1),a("app-edit-task-list-dialog",{attrs:{taskList:t.editingTaskList},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}}),a("app-create-task-list-dialog",{model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}}),a("app-add-task-dialog",{model:{value:t.addTaskDialog,callback:function(e){t.addTaskDialog=e},expression:"addTaskDialog"}})],1)},F=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.taskList?a("v-card",[a("v-slide-x-transition",{attrs:{"hide-on-leave":""}},[t.defaultListPicker?a("div",{key:2},[a("v-card-title",[a("h3",[t._v("Default list will be deleted, select a new one")])]),a("v-card-text",[a("v-select",{attrs:{items:t.selectItems,label:"Choose new default task list"},model:{value:t.newDefaultListId,callback:function(e){t.newDefaultListId=e},expression:"newDefaultListId"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.defaultListPicker=!1}}},[t._v("Cancel")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"error",text:"",disabled:!t.newDefaultListId,loading:t.deleteLoading},on:{click:t.deleteDefaultTaskList}},[t._v("Delete")])],1)],1):a("div",[a("v-card-title",[a("h3",[t._v("Edit task list")])]),a("v-card-text",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"List name can't be empty"}],label:"List name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-row",[a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"yellow darken-2",text:"",loading:t.setDefaultLoading},on:{click:function(e){return t.setDefaultTaskList(t.taskList)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-star-circle")]),t._v(" Set as default ")],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"error",loading:t.deleteLoading},on:{click:t.deleteTaskList}},[t._v("Delete")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:"",disabled:""==t.name},on:{click:t.saveTaskList}},[t._v("Save")])],1)],1)])],1):t._e()],1)},B=[],M={props:["value","taskList"],data:function(){return{name:"",defaultListPicker:!1,newDefaultListId:null,setDefaultLoading:!1,updateLoading:!1,deleteLoading:!1}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},allLists:function(){return this.$store.state.tasks.taskLists},userDefaultTaskListId:function(){return this.$store.state.user.config.defaultTaskListId},selectItems:function(){var t,e=[],a=Object(V["a"])(this.allLists);try{for(a.s();!(t=a.n()).done;){var s=t.value;s._id!=this.taskList._id&&e.push({text:s.name,value:s._id})}}catch(r){a.e(r)}finally{a.f()}return e}},watch:{dialog:function(t){t?this.name=this.taskList.name:(this.name="",this.defaultListPicker=!1,this.newDefaultListId=null)}},methods:{saveTaskList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t.updateLoading=!0,t.$store.dispatch("updateTaskList",{taskList:t.taskList,set:{name:t.name}}),t.dialog=!1}finally{t.updateLoading=!1}case 1:case"end":return e.stop()}}),e)})))()},deleteTaskList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.taskList._id==t.userDefaultTaskListId){e.next=8;break}return t.deleteLoading=!0,e.next=5,t.$store.dispatch("deleteTaskList",t.taskList._id);case 5:t.dialog=!1,e.next=9;break;case 8:t.defaultListPicker=!0;case 9:return e.prev=9,t.deleteLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])})))()},deleteDefaultTaskList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.deleteLoading=!0,a=t.newDefaultListId,!a){e.next=9;break}return e.next=6,t.$store.dispatch("setDefaultTaskList",a);case 6:return e.next=8,t.$store.dispatch("deleteTaskList",t.taskList._id);case 8:t.dialog=!1;case 9:return e.prev=9,t.deleteLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])})))()},setDefaultTaskList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.setDefaultLoading=!0,a.next=4,e.$store.dispatch("setDefaultTaskList",t._id);case 4:e.dialog=!1;case 5:return a.prev=5,e.setDefaultLoading=!1,a.finish(5);case 8:case"end":return a.stop()}}),a,null,[[0,,5,8]])})))()}}},q=M,Q=a("b0af"),X=a("99d9"),Y=a("169a"),H=a("132d"),W=a("0fd9"),G=a("b974"),z=a("2fa4"),K=a("8654"),Z=Object(d["a"])(q,J,B,!1,null,null,null),tt=Z.exports;v()(Z,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VDialog:Y["a"],VIcon:H["a"],VRow:W["a"],VSelect:G["a"],VSlideXTransition:w["e"],VSpacer:z["a"],VTextField:K["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("h3",[t._v("Name new task list")])]),a("v-card-text",[a("v-text-field",{attrs:{disabled:t.loading,rules:[function(t){return!!t||"List name can't be empty"}],label:"List name"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createTaskList(e)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:"",disabled:""==t.name,loading:t.loading},on:{click:t.createTaskList}},[t._v("Create")])],1)],1)],1)},at=[],st={props:["value"],data:function(){return{name:"",loading:!1}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{dialog:function(t){t&&(this.name="")}},methods:{createTaskList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$store.dispatch("createTaskList",t.name);case 4:t.dialog=!1;case 5:return e.prev=5,t.loading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})))()}}},rt=st,it=Object(d["a"])(rt,et,at,!1,null,null,null),nt=it.exports;v()(it,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VDialog:Y["a"],VSpacer:z["a"],VTextField:K["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("h3",[t._v("Add task")])]),a("v-card-text",[a("v-text-field",{attrs:{disabled:t.loading,"single-line":"",label:"I want to..."},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTask(e)}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("label",[t._v("Task list")]),a("v-select",{staticClass:"pt-0",attrs:{items:t.selectItems},model:{value:t.taskListId,callback:function(e){t.taskListId=e},expression:"taskListId"}}),a("label",[t._v("Priority")]),a("app-priority-picker",{model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:"",disabled:""==t.text,loading:t.loading},on:{click:t.addTask}},[t._v("Add")])],1)],1)],1)},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",{attrs:{icon:"",color:0==t.priority?t.$priorityColors[0]:"grey",large:""},on:{click:function(e){t.priority=0}}},[a("v-icon",t._g({attrs:{large:""}},s),[t._v("mdi-fire")])],1)]}}])},[a("span",[t._v("Low priority")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",color:1==t.priority?t.$priorityColors[1]:"grey",large:""},on:{click:function(e){t.priority=1}}},s),[a("v-icon",{attrs:{large:""}},[t._v("mdi-fire")])],1)]}}])},[a("span",[t._v("Medium priority")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",color:2==t.priority?t.$priorityColors[2]:"grey",large:""},on:{click:function(e){t.priority=2}}},s),[a("v-icon",{attrs:{large:""}},[t._v("mdi-fire")])],1)]}}])},[a("span",[t._v("High priority")])])],1)},ut=[],dt={props:["value"],computed:{priority:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},pt=dt,vt=a("3a2f"),ft=Object(d["a"])(pt,ct,ut,!1,null,null,null),mt=ft.exports;v()(ft,{VBtn:f["a"],VIcon:H["a"],VRow:W["a"],VTooltip:vt["a"]});var kt={props:["value"],data:function(){return{text:"",taskListId:null,priority:0,loading:!1}},computed:{dialog:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},taskLists:function(){return this.$store.state.tasks.taskLists},selectItems:function(){var t,e=[],a=Object(V["a"])(this.taskLists);try{for(a.s();!(t=a.n()).done;){var s=t.value;e.push({text:s.name,value:s._id})}}catch(r){a.e(r)}finally{a.f()}return e},userDefaultTaskListId:function(){return this.$store.state.user.config.defaultTaskListId}},watch:{dialog:function(t){t&&(this.text="",this.priority=0,this.taskListId=this.userDefaultTaskListId)}},methods:{addTask:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$store.dispatch("addTask",{text:t.text,priority:t.priority,taskListId:t.taskListId});case 4:t.dialog=!1;case 5:return e.prev=5,t.loading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})))()}},components:{AppPriorityPicker:mt}},gt=kt,ht=Object(d["a"])(gt,ot,lt,!1,null,null,null),bt=ht.exports;v()(ht,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VDialog:Y["a"],VSelect:G["a"],VSpacer:z["a"],VTextField:K["a"]});var xt={props:["value"],data:function(){return{editingTaskList:null,addTaskDialog:!1,editDialog:!1,createDialog:!1}},computed:{user:function(){return this.$store.state.user},defaultTaskListId:function(){return this.user?this.user.config.defaultTaskListId:""},taskLists:function(){return this.$store.state.tasks.taskLists||[]},allTasks:function(){return this.$store.getters.allTasks},activeList:function(){return this.$store.state.tasks.activeList||this.allTasks},brPointName:function(){return this.$vuetify.breakpoint.name},drawer:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{setTaskList:function(t){this.$store.commit("setTaskList",t)},editTaskList:function(t){this.editingTaskList=t,this.editDialog=!0}},components:{AppEditTaskListDialog:tt,AppCreateTaskListDialog:nt,AppAddTaskDialog:bt}},wt=xt,Lt=a("cc20"),Tt=a("ce7e"),yt=a("8860"),_t=a("56b0"),Vt=a("da13"),Ct=a("1800"),It=a("8270"),Ot=a("5d23"),St=a("34c3"),$t=a("f774"),Dt=Object(d["a"])(wt,U,F,!1,null,null,null),Rt=Dt.exports;v()(Dt,{VBtn:f["a"],VChip:Lt["a"],VDivider:Tt["a"],VIcon:H["a"],VList:yt["a"],VListGroup:_t["a"],VListItem:Vt["a"],VListItemAction:Ct["a"],VListItemAvatar:It["a"],VListItemContent:Ot["a"],VListItemIcon:St["a"],VListItemSubtitle:Ot["b"],VListItemTitle:Ot["c"],VNavigationDrawer:$t["a"],VSlideYTransition:w["f"],VTooltip:vt["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("app-task-list")],1),"sm"!=t.brPointName&&"xs"!=t.brPointName?a("v-col",{staticStyle:{"min-width":"330px","max-width":"600px"},attrs:{cols:"12",md:"6"}},[a("app-task-parameters")],1):a("v-dialog",{attrs:{value:!!t.task,width:"600px",modal:""},on:{"click:outside":t.closeDialog}},[a("app-task-parameters")],1)],1)},At=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{width:"100%"}},[a("v-card-title",[a("v-fade-transition",{attrs:{"hide-on-leave":""}},[a("h2",{key:t.taskList.name},[t._v(t._s(t.taskList.name))])]),a("v-chip",{staticClass:"mx-3",attrs:{color:"primary"}},[a("v-slide-y-transition",{attrs:{"hide-on-leave":""}},[a("strong",{key:t.taskList.items.length},[t._v(t._s(t.taskList.items.length))])])],1),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-slide-x-reverse-transition",[t.completedTask.length>0?a("v-btn",t._g({attrs:{icon:"",color:"black"},on:{click:t.deleteCompletedTasks}},s),[a("v-icon",[t._v("mdi-broom")])],1):t._e()],1)]}}])},[a("span",[t._v(" Delete completed tasks ")])])],1),a("v-card-text",[a("v-list",{key:t.taskList.name,staticClass:"overflow-y-auto",staticStyle:{height:"60vh"},attrs:{"two-line":"",rounded:""}},[a("v-slide-y-transition",{attrs:{"leave-absolute":"",group:""}},t._l(t.sortedTasks,(function(e){return a("v-list-item",{key:e._id,class:{"teal lighten-5":t.activeTask&&e._id==t.activeTask._id},on:{click:function(a){return t.setActiveTask(e)}}},[a("v-simple-checkbox",{staticClass:"pr-3",attrs:{value:e.completed,color:"grey",ripple:!1,"on-icon":"mdi-check-circle","off-icon":"mdi-checkbox-blank-circle-outline"},on:{click:function(a){return a.stopPropagation(),t.toggleTaskStatus(e)}}}),a("v-list-item-content",[a("v-list-item-title",{class:{"grey--text":e.completed}},[a("span",{style:{"text-decoration":e.completed?"line-through":"none"}},[t._v(" "+t._s(e.text)+" ")])]),a("v-list-item-subtitle",[t._v(" "+t._s(e.list.name)+" "),a("v-icon",{attrs:{small:"",color:t.$priorityColors[e.priority]}},[t._v("mdi-fire")])],1)],1),a("v-list-item-action",[a("v-slide-x-reverse-transition",[e.completed?a("v-btn",{attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.deleteTask(e)}}},[a("v-icon",{attrs:{color:"grey"}},[t._v("mdi-close")])],1):t._e()],1)],1)],1)})),1)],1)],1),a("v-card-actions",[a("v-row",{staticClass:"px-3",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"11"}},[a("v-text-field",{staticClass:"mt-3 mr-3",attrs:{label:"Click to quickly add a task to the "+t.addressList+" list","single-line":"",clearable:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addTaskQuickly(e))},focus:function(e){t.textfieldFocused=!0},blur:function(e){t.textfieldFocused=!1}},model:{value:t.taskText,callback:function(e){t.taskText=e},expression:"taskText"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"mt-1",attrs:{color:t.textfieldFocused?"primary":"grey","justify-self":"center",icon:"",large:"",loading:t.addLoading},on:{click:function(e){return e.preventDefault(),t.addTaskQuickly(e)}}},[a("v-icon",[t._v("mdi-arrow-up")])],1)],1)],1)],1)],1)},Nt=[],Et=(a("4de4"),a("2909")),Ut={data:function(){return{addLoading:!1,taskText:"",textfieldFocused:!1}},computed:{allTasks:function(){return this.$store.getters.allTasks},taskList:function(){return this.$store.state.tasks.activeList||this.allTasks},activeTask:function(){return this.$store.state.tasks.activeTask},sortedTasks:function(){var t=Object(Et["a"])(this.taskList.items).sort((function(t,e){return e.priority-t.priority}));return t.sort((function(t,e){return t.completed-e.completed})),t},addressList:function(){return this.$store.state.tasks.activeList?'"'.concat(this.taskList.name,'"'):"default task"},completedTask:function(){return this.taskList.items.filter((function(t){return t.completed}))},progress:function(){return this.completedTask.length/this.taskList.items.length*100}},methods:{addTaskQuickly:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.addLoading=!0,""!=t.taskText){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$store.dispatch("addTaskQuickly",t.taskText);case 6:t.taskText="";case 7:return e.prev=7,t.addLoading=!1,e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))()},toggleTaskStatus:function(t){this.$store.dispatch("toggleTaskStatus",t)},setActiveTask:function(t){this.$store.commit("setActiveTask",t)},deleteCompletedTasks:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Object(V["a"])(t.completedTask),e.prev=1,a.s();case 3:if((s=a.n()).done){e.next=9;break}return r=s.value,e.next=7,t.$store.dispatch("deleteTask",r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),a.e(e.t0);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()},deleteTask:function(t){this.$store.dispatch("deleteTask",t)}}},Ft=Ut,Jt=a("62ad"),Bt=a("9e88"),Mt=Object(d["a"])(Ft,Pt,Nt,!1,null,null,null),qt=Mt.exports;v()(Mt,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VChip:Lt["a"],VCol:Jt["a"],VFadeTransition:w["c"],VIcon:H["a"],VList:yt["a"],VListItem:Vt["a"],VListItemAction:Ct["a"],VListItemContent:Ot["a"],VListItemSubtitle:Ot["b"],VListItemTitle:Ot["c"],VRow:W["a"],VSimpleCheckbox:Bt["a"],VSlideXReverseTransition:w["d"],VSlideYTransition:w["f"],VSpacer:z["a"],VTextField:K["a"],VTooltip:vt["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-slide-x-transition",[t.task?a("v-card",[a("v-fade-transition",{attrs:{"hide-on-leave":""}},[a("div",{key:t.task._id},[a("v-card-title",[t._v(" Task details "),a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"grey"},on:{click:t.close}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1)],1),a("v-card-text",[a("v-text-field",{attrs:{label:"Text"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("label",[t._v("Priority")]),a("app-priority-picker",{model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}}),a("label",[t._v("Created")]),a("v-row",{staticClass:"px-3 black--text"},[t._v(t._s(t._f("date")(t.task.createdAt)))])],1),a("v-card-actions",[a("v-col",[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"error",text:"",block:"",loading:t.deleteLoading},on:{click:t.deleteTask}},[t._v("Delete")])],1),a("v-col",[t.task.completed?a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"black",text:"",block:"",disabled:t.deleteLoading},on:{click:t.restoreTask}},[t._v("Restore")]):a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:"",block:"",disabled:t.deleteLoading},on:{click:t.restoreTask}},[t._v("Mark as done")])],1)],1)],1)])],1):t._e()],1)},Xt=[],Yt=a("b047"),Ht=a.n(Yt),Wt={data:function(){return{textfieldFocused:!1,deleteLoading:!1}},computed:{task:function(){return this.$store.state.tasks.activeTask},text:{get:function(){return this.task.text},set:Ht()((function(t){this.$store.dispatch("updateTaskText",{task:this.task,value:t})}),300)},priority:{get:function(){return this.task.priority},set:function(t){this.$store.dispatch("updateTaskPriority",{task:this.task,value:t})}}},methods:{deleteTask:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.deleteLoading=!0,e.next=4,t.$store.dispatch("deleteTask",t.task);case 4:return e.prev=4,t.deleteLoading=!1,e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})))()},restoreTask:function(){this.$store.dispatch("toggleTaskStatus",this.task)},close:function(){this.$store.commit("setActiveTask",null)}},filters:{date:function(t){var e=new Date(t);return e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}},components:{AppPriorityPicker:mt}},Gt=Wt,zt=Object(d["a"])(Gt,Qt,Xt,!1,null,null,null),Kt=zt.exports;v()(zt,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VCol:Jt["a"],VFadeTransition:w["c"],VIcon:H["a"],VRow:W["a"],VSlideXTransition:w["e"],VSpacer:z["a"],VTextField:K["a"]});var Zt={computed:{brPointName:function(){return this.$vuetify.breakpoint.name},task:function(){return this.$store.state.tasks.activeTask}},methods:{closeDialog:function(){this.$store.commit("setActiveTask",null)}},components:{AppTaskList:qt,AppTaskParameters:Kt}},te=Zt,ee=Object(d["a"])(te,jt,At,!1,null,null,null),ae=ee.exports;v()(ee,{VCol:Jt["a"],VDialog:Y["a"],VRow:W["a"]});var se={created:function(){this.isUserLoggedIn?(this.$store.commit("setTaskList"),this.navDrawer=this.isBigWindow):this.$router.push("/signin")},components:{AppNavDrawer:Rt,AppDesktop:ae},data:function(){return{navDrawer:!0}},methods:{logout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/signin")}},computed:{isUserLoggedIn:function(){return!!this.$store.state.user},brPointName:function(){return this.$vuetify.breakpoint.name},isBigWindow:function(){return"sm"!=this.brPointName&&"xs"!=this.brPointName}}},re=se,ie=a("a523"),ne=a("f6c4"),oe=a("e449"),le=Object(d["a"])(re,N,E,!1,null,null,null),ce=le.exports;v()(le,{VBtn:f["a"],VContainer:ie["a"],VFadeTransition:w["c"],VIcon:H["a"],VList:yt["a"],VListItem:Vt["a"],VListItemTitle:Ot["c"],VMain:ne["a"],VMenu:oe["a"],VRow:W["a"],VSlideXTransition:w["e"],VSpacer:z["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"background-1",attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticStyle:{"max-width":"1000px"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[a("h3",{staticClass:"mr-3"},[a("strong",[t._v("TODOs")])]),t._v(" Sign up ")]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Your name",type:"text",rules:t.nameRules,dense:"",outlined:""},model:{value:t.name,callback:function(e){t.name="string"===typeof e?e.trim():e},expression:"name"}})],1)],1),a("v-text-field",{attrs:{label:"Email address",type:"email",autocomplete:"email",rules:t.emailRules,dense:"",outlined:""},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[a("v-text-field",{attrs:{label:"Password",type:t.passVis?"text":"password",rules:t.passwordRules,hint:"At least 8 characters, letters, numbers and special characters",autocomplete:"new-password","persistent-hint":"",dense:"",outlined:""},model:{value:t.password,callback:function(e){t.password="string"===typeof e?e.trim():e},expression:"password"}})],1),a("v-col",{attrs:{sm:"10",md:"5"}},[a("v-text-field",{attrs:{label:"Confirm password",type:t.passVis?"text":"password",rules:t.confirmPasswordRules,autocomplete:"new-password",dense:"",outlined:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword="string"===typeof e?e.trim():e},expression:"confirmPassword"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{text:"",icon:"",color:"grey"},on:{click:function(e){t.passVis=!t.passVis}}},[a("v-icon",[t._v(t._s(t.passVis?"mdi-eye-off":"mdi-eye"))])],1)],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"secondary",text:"",to:"/signin"}},[t._v("Sign in")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",loading:t.loading,disabled:!t.valid},on:{click:t.submit}},[t._v("Sign up")])],1)],1)],1)],1)],1)},de=[],pe={created:function(){this.isUserLoggedIn&&this.$router.push("/")},computed:{isUserLoggedIn:function(){return!!this.$store.state.user}},data:function(){var t=this;return{passVis:!1,valid:!1,loading:!1,name:"",nameRules:[function(t){return!!t||"Name is required"}],email:"",emailRules:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"Incorrect email format"}],password:"",passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=8||"Min length of password is 8 symbols"}],confirmPassword:"",confirmPasswordRules:[function(t){return!!t||"Confirm password"},function(e){return e===t.password||"Passwords are not equal"}]}},methods:{submit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,!t.$refs.form.validate()){e.next=7;break}return a={email:t.email,password:t.password,name:t.name},e.next=6,t.$store.dispatch("registerUser",a);case 6:t.$router.push("/");case 7:return e.prev=7,t.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))()}}},ve=pe,fe=a("4bd4"),me=Object(d["a"])(ve,ue,de,!1,null,null,null),ke=me.exports;v()(me,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VCol:Jt["a"],VContainer:ie["a"],VForm:fe["a"],VIcon:H["a"],VRow:W["a"],VSpacer:z["a"],VTextField:K["a"]});var ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"background-2",attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticStyle:{"max-width":"700px"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[a("h3",{staticClass:"mr-3"},[a("strong",[t._v("TODOs")])]),t._v(" Sign in ")]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Email address",type:"email",autocomplete:"email",rules:t.emailRules,dense:"",outlined:""},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),a("v-row",[a("v-col",{attrs:{cols:"10"}},[a("v-text-field",{attrs:{label:"Password",type:t.passVis?"text":"password",autocomplete:"password","persistent-hint":"",dense:"",outlined:""},model:{value:t.password,callback:function(e){t.password="string"===typeof e?e.trim():e},expression:"password"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{text:"",icon:"",color:"grey"},on:{click:function(e){t.passVis=!t.passVis}}},[a("v-icon",[t._v(t._s(t.passVis?"mdi-eye-off":"mdi-eye"))])],1)],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"secondary",text:"",to:"/signup"}},[t._v("Sign up")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",loading:t.loading,disabled:!t.valid},on:{click:t.submit}},[t._v("Sign in")])],1)],1)],1)],1)],1)},he=[],be={created:function(){this.isUserLoggedIn&&this.$router.push("/")},computed:{isUserLoggedIn:function(){return!!this.$store.state.user}},data:function(){return{passVis:!1,valid:!1,loading:!1,email:"",emailRules:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"Incorrect email format"}],password:""}},methods:{submit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,!t.$refs.form.validate()){e.next=7;break}return a={email:t.email,password:t.password},e.next=6,t.$store.dispatch("loginUser",a);case 6:t.$router.push("/");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0.message);case 12:return e.prev=12,t.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}}},xe=be,we=Object(d["a"])(xe,ge,he,!1,null,null,null),Le=we.exports;v()(we,{VBtn:f["a"],VCard:Q["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VCol:Jt["a"],VContainer:ie["a"],VForm:fe["a"],VIcon:H["a"],VRow:W["a"],VSpacer:z["a"],VTextField:K["a"]}),r["a"].use(A["a"]);var Te=new A["a"]({mode:"history",routes:[{path:"/",name:"main",component:ce,beforeEnter:P},{path:"/signup",name:"reg",component:ke},{path:"/signin",name:"login",component:Le},{path:"*",redirect:"/"}]});r["a"].config.productionTip=!1,r["a"].prototype.$priorityColors={0:"info lighten-2",1:"yellow darken-2",2:"yellow darken-4"};var ye=null;function _e(){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==D.state.user){t.next=7;break}if(e=sessionStorage.getItem("user"),a=e?JSON.parse(e):null,!a){t.next=6;break}return t.next=6,D.dispatch("loginUser",a);case 6:null==ye&&Ce();case 7:case"end":return t.stop()}}),t)}))),Ve.apply(this,arguments)}function Ce(){ye=new r["a"]({router:Te,vuetify:j,store:D,render:function(t){return t(T)}}).$mount("#app")}_e()},cf25:function(t,e,a){"use strict";var s=a("fea6"),r=a.n(s);r.a},fea6:function(t,e,a){}});
//# sourceMappingURL=app.5e777547.js.map